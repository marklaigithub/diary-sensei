# Diary Sensei v0.3.0 產品審查報告（PM 視角）

> 審查日期：2026-02-24
> 審查角色：產品經理（PM）

---

## 一、產品概覽

Diary Sensei 是一個 Tauri 桌面應用（Svelte 5 + Rust），核心價值主張是「用外語寫日記來學語言，AI 即時修正或翻譯」。v0.3.0 包含兩大模式（Writing/Correction 與 Translation）、月曆/日記列表側邊欄、右鍵即時翻譯、搜尋、PDF 匯出、三種視覺主題、Ollama 本機 AI 與 Claude API 雙後端。

資料以 Markdown + YAML frontmatter 格式存於本機檔案系統，這是一個很好的設計決策——資料可攜、可讀、不綁定專屬格式。

---

## 二、使用者體驗（UX）分析

### 2.1 使用流程的順暢度

核心流程（寫 -> 送出 -> 看結果 -> 存檔）基本通順，三欄式佈局符合桌面應用慣例。但有幾個卡點：

#### 卡點 A：「Submit」與「Save」分開，容易混淆

目前流程：寫完日記 -> 點 Submit（送 AI）-> 看結果 -> 再點 Save（存檔）。用戶可能：
- 寫完直接點 Save，結果沒有 AI 處理就存了
- 點了 Submit 看到結果後忘記 Save，關閉就丟失了
- 不確定「Save 到底存了什麼」——只存原文？還是連 AI 結果一起存？

**建議**：Submit 後自動帶入儲存提示，或 Save 偵測到未處理內容時詢問「要先送 AI 處理嗎？」。至少在離開未儲存日記時有 dirty check。

#### 卡點 B：Correction 模式的按鈕名稱 "Writing" 不直覺

ModeSelector 中 Correction 模式按鈕文字是 `✍️ Writing`，但功能是「AI 文法修正」。「Writing」暗示書寫，不是修正。

**建議**：改為 `✍️ Correction` 或 `✍️ Fix My Writing`。

#### 卡點 C：沒有未儲存變更的提示

切換日期、選擇其他日記、點 New 都會直接清空編輯器，沒有 dirty check。用戶寫了半篇日記，不小心點到月曆其他天，內容直接消失。

**建議**：加入 dirty state 追蹤，清空前彈出確認。

### 2.2 First-time Experience

新用戶第一次開啟面對空白畫面，不知道該做什麼。Empty state 只有 `"No entries this month"` 和結果面板的 placeholder 文字。

若選 Ollama 後端但未安裝，第一次 Submit 會直接報技術性錯誤。

**建議**：
- 新增 onboarding 引導（「選模式 -> 寫日記 -> 送出」）
- AI 後端健康檢查：偵測 Ollama 是否可用，不可用則顯示設定引導

### 2.3 功能發現性（Discoverability）

- **右鍵即時翻譯**：非常實用，但用戶不可能自己發現。沒有任何 UI 提示
- **Accept Correction**：套用後會清空翻譯結果，但用戶可能想保留 diff 做對照學習
- **日期選擇器**：和月曆的連動關係不明顯

**建議**：
- 加入 tooltip 或首次使用提示來曝光右鍵翻譯
- Accept Correction 後保留 diff 或提供 toggle

### 2.4 錯誤處理

現況可接受但可改進：
- 錯誤訊息不會自動消失，沒有手動關閉按鈕
- 多語言翻譯一個失敗全部失敗（串行處理）
- API 錯誤直接顯示 raw error，非技術用戶看不懂

---

## 三、功能完整性分析

### 3.1 核心功能缺失

| 缺失 | 說明 |
|------|------|
| **刪除日記無 UI** | 後端有 `delete_entry`，前端無入口 |
| **語言列表不可編輯** | Settings 中語言列表是唯讀的，要手動編輯 config.json |
| **沒有自動儲存** | 完全依賴手動 Save，無存草稿、無定時備份 |
| **AI 結果沒有解釋** | Correction 只有 diff，沒有告訴用戶「為什麼改」。對語言學習來說，理解「為什麼」比「改了什麼」更重要 |

### 3.2 半成品功能

| 功能 | 狀態 | 說明 |
|------|------|------|
| 圖片插入 | 後端就緒、前端缺失 | `save_image` 指令存在，Tiptap 依賴已裝，但編輯器是 textarea |
| 刪除日記 | 後端就緒、前端缺失 | `delete_entry` 指令存在，無 UI 入口 |
| 語言管理 | 只能看、不能改 | Settings 中語言列表唯讀 |
| `ViewMode` 型別 | 定義了、沒使用 | types.ts 定義 `edit | read`，未使用 |
| `Counter.svelte` | 樣板殘留 | Svelte 初始專案模板未清理 |

### 3.3 功能整合問題

- **主題切換不持久化**：`ThemeSwitcher.svelte` 沒有呼叫 `save_config`，重開回到預設
- **搜尋結果無日期分組**：跨月結果以平面列表顯示，大量結果時難定位

---

## 四、產品定位與差異化

### 4.1 市場比較

| 競品 | 優勢 | diary-sensei 的差異 |
|------|------|---------------------|
| LangJournal / Journaly | 社群互改 | diary-sensei 強調隱私、本機優先 |
| Grammarly | 即時 inline correction、解釋 | 專注日記情境、多語翻譯 |
| DeepL / Google Translate | 即時翻譯 | 日記管理 + 翻譯一體化 |
| Notion + AI | 強大筆記系統 | 輕量、專用、隱私 |

### 4.2 核心差異化優勢

1. **隱私優先的 Ollama 本機 AI**：語言學習日記是私密內容，「資料不離開電腦」是強賣點
2. **Markdown 本機儲存**：資料可攜、不被平台綁定
3. **修正 + 翻譯雙模式**：一個工具涵蓋兩種場景
4. **桌面原生應用**：啟動快、離線可用

### 4.3 目標用戶群

從預設語言（日/英/義）和 UI 語言（繁體中文）來看：**台灣的多語言學習者，特別是日語學習者**。定位清晰，但可在 onboarding 時更明確引導。

### 4.4 最大弱點

**學習回饋不夠深入**。Correction 只給「改了什麼」（diff），不給「為什麼改」。用戶看到紅綠對比但不理解規則，下次還是犯同樣的錯。這是從「翻譯工具」進化為「語言學習工具」的關鍵分水嶺。

---

## 五、v0.4.0 優先級建議

### Must-Have（P0/P1）

| 優先序 | 項目 | 理由 |
|--------|------|------|
| **P0** | 未儲存變更保護（dirty check） | 資料遺失是致命 UX 問題 |
| **P0** | 主題切換持久化 | 只需加一行 `save_config`，修復量極小 |
| **P1** | 刪除日記的 UI | 後端已就緒，只需前端入口 |
| **P1** | 語言列表可編輯 | 核心功能缺口 |
| **P1** | AI 修正附帶解釋 | 從「工具」變成「老師」的關鍵 |

### Should-Have

| 項目 | 理由 |
|------|------|
| 自動儲存草稿 | 日記類應用基本期待 |
| First-time onboarding | 降低上手門檻 |
| 多語翻譯改為並行 | 目前逐一翻譯，3 語言等 3 倍時間 |
| 清理 Tiptap 殘留 | 要嘛完成整合，要嘛移除依賴 |
| 右鍵翻譯功能引導提示 | 好功能被埋沒 |

### Nice-to-Have

| 項目 | 理由 |
|------|------|
| 學習進度追蹤（常犯錯誤統計） | 長期黏著度 |
| 匯出為 Anki 卡片 | 與現有學習工具整合 |
| 串流式 AI 回應（streaming） | 長文等待感重 |
| 日記標籤/分類 | 組織需求 |
| 鍵盤快捷鍵 | Cmd+S 儲存、Cmd+Enter 送出 |

---

## 六、總結

Diary Sensei v0.3.0 核心概念扎實，「隱私優先的 AI 日記學習工具」在市場上有明確的定位空間。技術架構選擇得當，Markdown 本機儲存的設計決策很好。

現階段最大問題是**資料安全性**（缺少 dirty check 和自動儲存）和**學習深度不足**（AI 只改不教）。前者防止用戶流失，後者是進化為「學習工具」的關鍵。

**v0.4.0 一句話方向：補齊基礎體驗的缺口（P0/P1），同時讓 AI 從「修正機器」升級為「語言老師」。**
